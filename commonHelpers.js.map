{"version":3,"file":"commonHelpers.js","sources":["../src/js/refs.js","../src/js/pixabay-api.js","../src/js/render-functions.js","../src/js/onFormSubmit.js","../src/main.js"],"sourcesContent":["export const refs = {\n    form: document.querySelector(\".form\"),\n    input: document.querySelector(\"#user-input\"),\n    button: document.querySelector(\".search-button\"),\n    gallery: document.querySelector(\".gallery\"),\n    loadMore: document.querySelector(\".load-button\")\n}","import { refs } from \"./refs\";\nimport axios from \"axios\";\n\n\nexport async function pixabayApi(userText, page) {\n    refs.gallery.classList.add(\"loader\");\n    axios.defaults.baseURL = \"https://pixabay.com/api/\";\n    const API_KEY = \"42305784-5d55228baaa9a6392a5b2668b\";\n    axios.defaults.params = {\n        key: API_KEY,\n        q: userText,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n        per_page: 15,\n        page,\n    };\n\n    const {data} = await axios.get();\n    return data;\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { refs } from \"./refs\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nexport function checkFunction(userData) {\n    refs.gallery.classList.remove(\"loader\");\n    if (userData.hits.length === 0) {\n        iziToast.error({\n            message: \"Sorry, there are no images matching your search query. Please try again!\",\n            position: \"topLeft\",\n        });\n    } else {\n        iziToast.success({\n            message: `A total of ${userData.totalHits} images were successfully found`,\n            position: \"topLeft\",\n        });\n        renderFunction(userData);\n    }\n};\n\nfunction renderFunction(userData) {\n  let gallery = new SimpleLightbox(\".gallery a\");\n  gallery.refresh();\n    const markup = userData.hits.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n        return `<li class=\"gallery-item\">\n        <a href=\"${largeImageURL}\">\n          <img src=\"${webformatURL}\" alt=\"${tags}\" title=\"${tags}\"/>\n          <ul>\n            <li>\n              <h3>Likes</h3>\n              <p>${likes}</p>\n            </li>\n            <li>\n              <h3>Vievs</h3>\n              <p>${views}</p>\n            </li>\n            <li>\n              <h3>Comments</h3>\n              <p>${comments}</p>\n            </li>\n            <li>\n              <h3>Downloads</h3>\n              <p>${downloads}</p>\n            </li>\n          </ul>\n        </a></li>`\n    }).join(\"\");\n  refs.gallery.insertAdjacentHTML(\"beforeend\", markup);\n\n  gallery = new SimpleLightbox(\".gallery a\", { captions: false, });\n  \n  if (userData.totalHits > 15) refs.loadMore.classList.remove(\"is-hidden\");\n};","import { refs } from \"./refs\";\nimport { pixabayApi } from \"./pixabay-api\";\nimport { checkFunction } from \"./render-functions\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nexport function onFormSubmit(event) {\n    event.preventDefault();\n    refs.loadMore.classList.add(\"is-hidden\");\n    refs.gallery.innerHTML = \"\";\n    const userText = refs.input.value.trim();\n    if (userText !== \"\") {\n        pixabayApi(userText,1).then(checkFunction);\n    } else {\n        iziToast.error({\n            message: \"Sorry, the search bar is empty. Please try again!\",\n            position: \"topLeft\",\n        });\n    };\n}","import { refs } from \"./js/refs\";\nimport { onFormSubmit } from \"./js/onFormSubmit\";\n\n\n\n\nrefs.form.addEventListener(\"submit\", onFormSubmit);\n\n"],"names":["refs","pixabayApi","userText","page","axios","API_KEY","data","checkFunction","userData","iziToast","renderFunction","gallery","SimpleLightbox","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","onFormSubmit","event"],"mappings":"owBAAO,MAAMA,EAAO,CAChB,KAAM,SAAS,cAAc,OAAO,EACpC,MAAO,SAAS,cAAc,aAAa,EAC3C,OAAQ,SAAS,cAAc,gBAAgB,EAC/C,QAAS,SAAS,cAAc,UAAU,EAC1C,SAAU,SAAS,cAAc,cAAc,CACnD,ECFO,eAAeC,EAAWC,EAAUC,EAAM,CAC7CH,EAAK,QAAQ,UAAU,IAAI,QAAQ,EACnCI,EAAM,SAAS,QAAU,2BACzB,MAAMC,EAAU,qCAChBD,EAAM,SAAS,OAAS,CACpB,IAAKC,EACL,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,GACV,KAAAC,CACR,EAEI,KAAM,CAAC,KAAAG,CAAI,EAAI,MAAMF,EAAM,IAAG,EAC9B,OAAOE,CACX,CCbO,SAASC,EAAcC,EAAU,CACpCR,EAAK,QAAQ,UAAU,OAAO,QAAQ,EAClCQ,EAAS,KAAK,SAAW,EACzBC,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,SACtB,CAAS,GAEDA,EAAS,QAAQ,CACb,QAAS,cAAcD,EAAS,SAAS,kCACzC,SAAU,SACtB,CAAS,EACDE,EAAeF,CAAQ,EAE/B,CAEA,SAASE,EAAeF,EAAU,CAChC,IAAIG,EAAU,IAAIC,EAAe,YAAY,EAC7CD,EAAQ,QAAO,EACb,MAAME,EAASL,EAAS,KAAK,IAAI,CAAC,CAAE,aAAAM,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAC7F;AAAA,mBACIL,CAAa;AAAA,sBACVD,CAAY,UAAUE,CAAI,YAAYA,CAAI;AAAA;AAAA;AAAA;AAAA,mBAI7CC,CAAK;AAAA;AAAA;AAAA;AAAA,mBAILC,CAAK;AAAA;AAAA;AAAA;AAAA,mBAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,mBAIRC,CAAS;AAAA;AAAA;AAAA,kBAIvB,EAAE,KAAK,EAAE,EACZpB,EAAK,QAAQ,mBAAmB,YAAaa,CAAM,EAEnDF,EAAU,IAAIC,EAAe,aAAc,CAAE,SAAU,EAAK,CAAG,EAE3DJ,EAAS,UAAY,IAAIR,EAAK,SAAS,UAAU,OAAO,WAAW,CACzE,CChDO,SAASqB,EAAaC,EAAO,CAChCA,EAAM,eAAc,EACpBtB,EAAK,SAAS,UAAU,IAAI,WAAW,EACvCA,EAAK,QAAQ,UAAY,GACzB,MAAME,EAAWF,EAAK,MAAM,MAAM,KAAI,EAClCE,IAAa,GACbD,EAAWC,EAAS,CAAC,EAAE,KAAKK,CAAa,EAEzCE,EAAS,MAAM,CACX,QAAS,oDACT,SAAU,SACtB,CAAS,CAET,CCdAT,EAAK,KAAK,iBAAiB,SAAUqB,CAAY"}