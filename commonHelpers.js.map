{"version":3,"file":"commonHelpers.js","sources":["../src/js/refs.js","../src/js/pixabay-api.js","../src/js/render-functions.js","../src/js/onFormSubmit.js","../src/main.js"],"sourcesContent":["export const refs = {\n    form: document.querySelector(\".form\"),\n    input: document.querySelector(\"#user-input\"),\n    button: document.querySelector(\".search-button\"),\n    gallery: document.querySelector(\".gallery\"),\n}","import { refs } from \"./refs\";\n\nexport function pixabayApi(userText) {\n    const API_KEY = \"42305784-5d55228baaa9a6392a5b2668b\";\n    const URL = \"https://pixabay.com/api/?key=\" + API_KEY + \"&q=\" + userText + \"&image_type=photo&orientation=horizontal&safesearch=true\";\n    refs.gallery.classList.add(\"loader\");\n    return fetch(URL).then(res => res.json());\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { refs } from \"./refs\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nexport function checkFunction(userData) {\n    const userArray = userData.hits;\n    if (userArray.length === 0) {\n        iziToast.error({\n            message: \"Sorry, there are no images matching your search query. Please try again!\",\n            position: \"topRight\",\n        });\n    } else {\n        renderFunction(userArray);\n    }\n};\n\nfunction renderFunction(userArray) {\n  let gallery = new SimpleLightbox(\".gallery a\");\n  gallery.refresh();\n    const markup = userArray.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n        return `<li class=\"gallery-item\">\n        <a href=\"${largeImageURL}\">\n          <img src=\"${webformatURL}\" alt=\"${tags}\" title=\"${tags}\"/>\n          <ul>\n            <li>\n              <h3>Likes</h3>\n              <p>${likes}</p>\n            </li>\n            <li>\n              <h3>Vievs</h3>\n              <p>${views}</p>\n            </li>\n            <li>\n              <h3>Comments</h3>\n              <p>${comments}</p>\n            </li>\n            <li>\n              <h3>Downloads</h3>\n              <p>${downloads}</p>\n            </li>\n          </ul>\n        </a></li>`\n    }).join(\"\");\n  refs.gallery.innerHTML = markup;\n\n  gallery = new SimpleLightbox(\".gallery a\",{captions: false,});\n};","import { refs } from \"./refs\";\nimport { pixabayApi } from \"./pixabay-api\";\nimport { checkFunction } from \"./render-functions\";\n\nexport function onFormSubmit(event) {\n    event.preventDefault();\n    refs.gallery.innerHTML = \"\";\n    const userText = refs.input.value.trim();\n    if (userText !== \"\") {\n        pixabayApi(userText).then(checkFunction).catch().finally(()=>refs.gallery.classList.remove(\"loader\"));\n    };\n}","import { refs } from \"./js/refs\";\nimport { onFormSubmit } from \"./js/onFormSubmit\";\n\n\n\n\nrefs.form.addEventListener(\"submit\", onFormSubmit);\n\n"],"names":["refs","pixabayApi","userText","URL","res","checkFunction","userData","userArray","iziToast","renderFunction","gallery","SimpleLightbox","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","onFormSubmit","event"],"mappings":"6vBAAO,MAAMA,EAAO,CAChB,KAAM,SAAS,cAAc,OAAO,EACpC,MAAO,SAAS,cAAc,aAAa,EAC3C,OAAQ,SAAS,cAAc,gBAAgB,EAC/C,QAAS,SAAS,cAAc,UAAU,CAC9C,ECHO,SAASC,EAAWC,EAAU,CAEjC,MAAMC,EAAM,gCADI,qCACwC,MAAQD,EAAW,2DAC3E,OAAAF,EAAK,QAAQ,UAAU,IAAI,QAAQ,EAC5B,MAAMG,CAAG,EAAE,KAAKC,GAAOA,EAAI,KAAI,CAAE,CAC5C,CCAO,SAASC,EAAcC,EAAU,CACpC,MAAMC,EAAYD,EAAS,KACvBC,EAAU,SAAW,EACrBC,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,UACtB,CAAS,EAEDC,EAAeF,CAAS,CAEhC,CAEA,SAASE,EAAeF,EAAW,CACjC,IAAIG,EAAU,IAAIC,EAAe,YAAY,EAC7CD,EAAQ,QAAO,EACb,MAAME,EAASL,EAAU,IAAI,CAAC,CAAE,aAAAM,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IACzF;AAAA,mBACIL,CAAa;AAAA,sBACVD,CAAY,UAAUE,CAAI,YAAYA,CAAI;AAAA;AAAA;AAAA;AAAA,mBAI7CC,CAAK;AAAA;AAAA;AAAA;AAAA,mBAILC,CAAK;AAAA;AAAA;AAAA;AAAA,mBAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,mBAIRC,CAAS;AAAA;AAAA;AAAA,kBAIvB,EAAE,KAAK,EAAE,EACZnB,EAAK,QAAQ,UAAYY,EAEzBF,EAAU,IAAIC,EAAe,aAAa,CAAC,SAAU,EAAK,CAAE,CAC9D,CC7CO,SAASS,EAAaC,EAAO,CAChCA,EAAM,eAAc,EACpBrB,EAAK,QAAQ,UAAY,GACzB,MAAME,EAAWF,EAAK,MAAM,MAAM,KAAI,EAClCE,IAAa,IACbD,EAAWC,CAAQ,EAAE,KAAKG,CAAa,EAAE,MAAO,EAAC,QAAQ,IAAIL,EAAK,QAAQ,UAAU,OAAO,QAAQ,CAAC,CAE5G,CCLAA,EAAK,KAAK,iBAAiB,SAAUoB,CAAY"}